{UTF-8}
Predictive Maintenance=
	Battle Field / 5
	~	
	~		|

seed=
	0
	~	 [0,32000,1]
	~	Seed for the random number generator - stream ID for the distribution to use.  If s \
		is set to 0 the default noise stream will be used.  The default noise \
		stream can be controlled using the NOISE SEED variable described below.  \
		For each distinct non-zero value of s a separate noise stream will be \
		created.  You can couple noise streams by giving them the same stream ID. \
		When streams are coupled it means that the random selections will \
		influence one another, not that they will be the same. For example if \
		there are two functions using the stream ID 7, adding a third with the \
		same stream ID will change the noise generated by the first two. Using a \
		nonzero stream ID is most useful if it is unique so that adding additional \
		random functions will not influence a particular drawing sequence. See the \
		examples below. The stream ID should almost always be 0 or, if nonzero, a \
		constant. Using a dynamic value for StreamID can consume excessive memory. 
		NOTE  The noise stream ID for a random variable should be a number or a \
		constant.  If you make the ID a variable a new noise stream will be \
		started each time the value of that variable changes. This will slow \
		things and also degrade the distributional quality of the random variable.
	|

Estimated Failure Count=
	mean
	~	
	~	Will be substituted to forecasted failure count (yhat) as predicted by \
		statiscal model from Stan estimator
	|

mean=
	40
	~	dmnl
	~		|

rN minimum=
	30
	~	dmnl
	~		|

Natural Failure Count distribution=
	RANDOM NORMAL(rN minimum, rN maximum, mean, standard deviation, seed)
	~	dmnl
	~		|

standard deviation=
	10
	~	dmnl
	~		|

rN maximum=
	80
	~	dmnl
	~		|

Maintenance=
	Predictive Maintenance + Estimated Failure Count
	~	
	~	N of Predictive Maintenance
	|

Purchasing Period=
	12
	~	
	~		|

BackLog= INTEG (
	BackLogIn-BackLogOut,
		0)
	~	
	~		|

BackLogIn=
	Demand
	~	
	~		|

BackLogOut=
	Using
	~	
	~		|

Battle Field= INTEG (
	Input-Maintenance,
		Initial Value)
	~	
	~		|

Cost=
	Deficiency Cost+Inventory Cost
	~	
	~		|

Deficiency=
	MAX(0, BackLog/Maintenance Time-Using )
	~	
	~		|

Deficiency Cost=
	Deficiency Unit Cost*Deficiency
	~	
	~		|

Deficiency Unit Cost=
	99
	~	
	~		|

Demand=
	Maintenance
	~	
	~	Demand needs complicated dgp e.g. generate with prophet with \
		multiseasonality
	|

Demand Forecast=
	SMOOTH(Demand, Forecast Period )
	~	
	~	pi, giant, adapt_deltaize(thetathat)
	|

Forecast Period=
	3
	~	
	~		|

Initial Value=
	100
	~	
	~		|

Input=
	Repair Shop/Maintenance Time*MIN(1,XIDZ(Inventory,BackLog,1))
	~	
	~		|

Inventory= INTEG (
	Shipping-Using,
		Target Inventory)
	~	
	~		|

Inventory Adjustment Value=
	Target Inventory-Inventory
	~	
	~		|

Inventory Cost=
	(Inventory+Supply Line)*Inventory Unit Cost
	~	
	~		|

Inventory Unit Cost=
	1
	~	
	~		|

Lead Time=
	10
	~	
	~		|

Purchasing=
	Purchase Amount
	~	
	~		|

Maintenance Time=
	1
	~	
	~		|

Shipping=
	Supply Line/Lead Time
	~	
	~		|

N of Days in Stock=A FUNCTION OF(N of Days in Stock) ~~|
N of Days in Stock=
	~	
	~		|

Supply Line= INTEG (
	Purchasing-Shipping,
		Target Supply Line)
	~	
	~		|

Purchase Adjustment Value=
	Target Supply Line-Supply Line
	~	
	~		|

Purchase Amount=
	IF THEN ELSE(MODULO(Time,Purchasing Period)=0, Inventory Adjustment Value,0)
	~	
	~		|

Target Supply Line=
	Lead Time*Demand Forecast
	~	
	~		|

Repair Shop= INTEG (
	Maintenance-Input,
		0)
	~	
	~		|

Target Inventory=
	Demand Forecast*N of Days in Stock
	~	
	~		|

Using=
	MIN(BackLog,Input)
	~	
	~		|

********************************************************
	.Control
********************************************************~
		Simulation Control Parameters
	|

FINAL TIME  = 100
	~	Year
	~	The final time for the simulation.
	|

INITIAL TIME  = 0
	~	Year
	~	The initial time for the simulation.
	|

SAVEPER  = 
        TIME STEP
	~	Year [0,?]
	~	The frequency with which output is stored.
	|

TIME STEP  = 1
	~	Year [0,?]
	~	The time step for the simulation.
	|

\\\---/// Sketch information - do not modify anything except names
V300  Do not put anything below this section - it will be ignored
*View 1
$192-192-192,0,Times New Roman|12||0-0-0|0-0-0|0-0-255|-1--1--1|-1--1--1|96,96,72,0
10,1,Battle Field,771,144,63,101,3,131,0,0,0,0,0,0,0,0,0,0,0,0
10,2,Repair Shop,1108,139,65,102,3,131,0,0,0,0,0,0,0,0,0,0,0,0
1,3,5,2,4,0,0,22,0,0,0,-1--1--1,,1|(997,214)|
1,4,5,1,100,0,0,22,0,0,0,-1--1--1,,1|(887,214)|
11,5,0,946,214,6,8,34,3,0,0,1,0,0,0,0,0,0,0,0,0
10,6,Maintenance,946,252,75,30,40,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,7,9,1,4,0,0,22,0,0,0,-1--1--1,,1|(888,84)|
1,8,9,2,100,0,0,22,0,0,0,-1--1--1,,1|(999,84)|
11,9,0,949,84,6,8,34,131,0,0,1,0,0,0,0,0,0,0,0,0
10,10,Input,949,122,75,30,40,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,11,2,10,0,0,0,0,0,64,0,-1--1--1,,1|(0,0)|
10,12,Maintenance Time,897,153,75,30,8,3,0,0,0,0,0,0,0,0,0,0,0,0
1,13,12,10,0,0,0,0,0,64,0,-1--1--1,,1|(0,0)|
10,14,Estimated Failure Count,672,365,75,30,8,131,0,0,0,0,0,0,0,0,0,0,0,0
10,15,Initial Value,767,255,75,30,8,3,0,0,0,0,0,0,0,0,0,0,0,0
1,16,14,6,0,0,0,0,0,64,0,-1--1--1,,1|(0,0)|
10,17,Supply Line,780,475,61,25,3,131,0,0,0,0,0,0,0,0,0,0,0,0
10,18,Inventory,1111,473,47,25,3,131,0,0,0,0,0,0,0,0,0,0,0,0
12,19,48,505,476,10,8,0,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,20,22,17,4,0,0,22,0,0,0,-1--1--1,,1|(671,476)|
1,21,22,19,100,0,0,22,0,0,0,-1--1--1,,1|(563,476)|
11,22,0,617,476,6,8,34,3,0,0,1,0,0,0,0,0,0,0,0,0
10,23,Purchasing,617,514,75,30,40,131,0,0,-1,0,0,0,0,0,0,0,0,0
1,24,26,18,4,0,0,22,0,0,0,-1--1--1,,1|(1011,474)|
1,25,26,17,100,0,0,22,0,0,0,-1--1--1,,1|(893,474)|
11,26,0,952,474,6,8,34,3,0,0,1,0,0,0,0,0,0,0,0,0
10,27,Shipping,952,512,75,30,40,3,0,0,-1,0,0,0,0,0,0,0,0,0
12,28,48,1394,473,10,8,0,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,29,31,28,4,0,0,22,0,0,0,-1--1--1,,1|(1330,473)|
1,30,31,18,100,0,0,22,0,0,0,-1--1--1,,1|(1211,473)|
11,31,0,1271,473,6,8,34,3,0,0,1,0,0,0,0,0,0,0,0,0
10,32,Using,1271,511,75,30,40,131,0,0,-1,0,0,0,0,0,0,0,0,0
10,33,Purchase Amount,570,596,75,30,8,3,0,0,0,0,0,0,0,0,0,0,0,0
10,34,Purchase Adjustment Value,727,617,75,30,8,3,0,0,0,0,0,0,0,0,0,0,0,0
10,35,Inventory Adjustment Value,571,696,75,30,8,3,0,0,0,0,0,0,0,0,0,0,0,0
10,36,Lead Time,925,547,75,30,8,3,0,0,0,0,0,0,0,0,0,0,0,0
10,37,Target Supply Line,887,610,75,30,8,3,0,0,0,0,0,0,0,0,0,0,0,0
10,38,Target Inventory,721,751,75,30,8,3,0,0,0,0,0,0,0,0,0,0,0,0
10,39,N of Days in Stock,841,740,75,30,8,3,0,0,0,0,0,0,0,0,0,0,0,0
10,40,Demand Forecast,941,820,75,30,8,3,0,0,0,0,0,0,0,0,0,0,0,0
10,41,Forecast Period,1104,793,75,30,8,3,0,0,0,0,0,0,0,0,0,0,0,0
1,42,33,23,1,0,0,0,0,64,0,-1--1--1,,1|(566,554)|
1,43,35,33,0,0,0,0,0,64,0,-1--1--1,,1|(0,0)|
1,44,36,27,0,0,0,0,0,64,0,-1--1--1,,1|(0,0)|
1,45,17,27,0,0,0,0,0,64,0,-1--1--1,,1|(0,0)|
1,46,36,37,0,0,0,0,0,64,0,-1--1--1,,1|(0,0)|
1,47,37,34,0,0,0,0,0,64,0,-1--1--1,,1|(0,0)|
1,48,17,34,0,0,0,0,0,64,0,-1--1--1,,1|(0,0)|
1,49,39,38,0,0,0,0,0,64,0,-1--1--1,,1|(0,0)|
1,50,38,35,0,0,0,0,0,64,0,-1--1--1,,1|(0,0)|
1,51,18,35,1,0,0,0,0,64,0,-1--1--1,,1|(893,680)|
1,52,40,38,0,0,0,0,0,64,0,-1--1--1,,1|(0,0)|
1,53,40,37,0,0,0,0,0,64,0,-1--1--1,,1|(0,0)|
1,54,41,40,0,0,0,0,0,64,0,-1--1--1,,1|(0,0)|
10,55,Demand,1096,722,75,30,8,3,0,0,0,0,0,0,0,0,0,0,0,0
1,56,55,40,0,0,0,0,0,64,0,-1--1--1,,1|(0,0)|
10,57,BackLog,1261,620,40,20,3,3,0,0,0,0,0,0,0,0,0,0,0,0
12,58,48,1119,624,10,8,0,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,59,61,57,4,0,0,22,0,0,0,-1--1--1,,1|(1201,624)|
1,60,61,58,100,0,0,22,0,0,0,-1--1--1,,1|(1149,624)|
11,61,0,1175,624,6,8,34,3,0,0,1,0,0,0,0,0,0,0,0,0
10,62,BackLogIn,1175,662,75,30,40,3,0,0,-1,0,0,0,0,0,0,0,0,0
12,63,48,1476,619,10,8,0,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,64,66,63,4,0,0,22,0,0,0,-1--1--1,,1|(1411,619)|
1,65,66,57,100,0,0,22,0,0,0,-1--1--1,,1|(1323,619)|
11,66,0,1351,619,6,8,34,3,0,0,1,0,0,0,0,0,0,0,0,0
10,67,BackLogOut,1351,657,75,30,40,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,68,55,62,0,0,0,0,0,64,0,-1--1--1,,1|(0,0)|
10,69,Deficiency,1259,560,75,30,8,3,0,0,0,0,0,0,0,0,0,0,0,0
1,70,57,69,0,0,0,0,0,64,0,-1--1--1,,1|(0,0)|
1,71,32,69,0,0,0,0,0,64,0,-1--1--1,,1|(0,0)|
1,72,57,32,1,0,0,0,0,64,0,-1--1--1,,1|(1194,578)|
1,73,32,67,1,0,0,0,0,64,0,-1--1--1,,1|(1351,512)|
1,74,6,55,0,0,0,0,0,64,0,-1--1--1,,1|(0,0)|
1,75,10,32,0,0,0,0,0,64,0,-1--1--1,,1|(0,0)|
1,76,57,10,0,0,0,0,0,64,0,-1--1--1,,1|(0,0)|
1,77,18,10,0,0,0,0,0,64,0,-1--1--1,,1|(0,0)|
10,78,Inventory Unit Cost,1462,335,75,30,8,131,0,0,0,0,0,0,0,0,0,0,0,0
10,79,Deficiency Unit Cost,1459,385,75,30,8,131,0,0,0,0,0,0,0,0,0,0,0,0
10,80,Inventory Cost,1665,333,75,30,8,3,0,0,0,0,0,0,0,0,0,0,0,0
10,81,Deficiency Cost,1664,381,75,30,8,3,0,0,0,0,0,0,0,0,0,0,0,0
10,82,Cost,1816,346,75,30,8,3,0,0,0,0,0,0,0,0,0,0,0,0
1,83,78,80,0,0,0,0,0,64,0,-1--1--1,,1|(0,0)|
1,84,79,81,0,0,0,0,0,64,0,-1--1--1,,1|(0,0)|
1,85,80,82,0,0,0,0,0,64,0,-1--1--1,,1|(0,0)|
1,86,81,82,0,0,0,0,0,64,0,-1--1--1,,1|(0,0)|
1,87,69,81,0,0,0,0,0,64,0,-1--1--1,,1|(0,0)|
1,88,18,80,0,0,0,0,0,64,0,-1--1--1,,1|(0,0)|
1,89,17,80,0,0,0,0,0,64,0,-1--1--1,,1|(0,0)|
1,90,37,17,0,0,0,0,0,64,1,-1--1--1,,1|(0,0)|
1,91,12,69,0,0,0,0,0,64,0,-1--1--1,,1|(0,0)|
1,92,38,18,0,0,0,0,0,64,1,-1--1--1,,1|(0,0)|
1,93,15,1,0,0,0,0,0,64,1,-1--1--1,,1|(0,0)|
10,94,Purchasing Period,469,543,75,30,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,95,94,33,0,0,0,0,0,64,0,-1--1--1,,1|(0,0)|
10,96,Time,500,631,75,30,8,2,0,3,-1,0,0,0,128-128-128,0-0-0,|||128-128-128,0,0,0,0,0,0
1,97,96,33,0,0,0,0,0,64,0,-1--1--1,,1|(0,0)|
10,98,Natural Failure Count distribution,230,364,75,30,8,3,0,16,0,0,0,0,0-0-0,0-0-0,||B|0-0-0,0,0,0,0,0,0
10,99,rN maximum,147,463,75,30,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,100,99,98,0,0,0,0,0,64,0,-1--1--1,,1|(0,0)|
10,101,rN minimum,112,428,75,30,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,102,101,98,0,0,0,0,0,64,0,-1--1--1,,1|(0,0)|
1,103,104,98,0,0,0,0,0,64,0,-1--1--1,,1|(0,0)|
10,104,seed,342,428,75,30,8,2,0,3,-1,0,0,0,128-128-128,0-0-0,|||128-128-128,0,0,0,0,0,0
10,105,mean,227,428,75,30,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,106,105,98,0,0,0,0,0,64,0,-1--1--1,,1|(0,0)|
10,107,standard deviation,302,463,75,30,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,108,107,98,0,0,0,0,0,64,0,-1--1--1,,1|(0,0)|
10,109,Predictive Maintenance,857,338,75,30,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,110,109,6,0,0,0,0,0,64,0,-1--1--1,,1|(0,0)|
12,111,0,440,350,40,40,0,7,0,0,-1,0,0,0,0,0,0,0,0,0
Estimated by statistical model implemented with Stan
1,112,1,109,0,0,0,0,0,64,0,-1--1--1,,1|(0,0)|
1,113,105,14,0,0,0,0,0,64,0,-1--1--1,,1|(0,0)|
///---\\\
:L<%^E!@
4:Time
5:N of Days in Stock
9:Current
19:72,0
24:0
25:100
26:100
22:$,Dollar,Dollars,$s
22:Hour,Hours
22:Month,Months
22:Person,People,Persons
22:Unit,Units
22:Week,Weeks
22:Year,Years
22:Day,Days
15:0,0,0,0,0,0
27:2,
34:0,
42:0
72:0
73:0
95:0
96:0
97:0
77:0
78:0
102:1
93:0
94:0
92:0
91:0
90:0
87:0
75:
43:
103:8,8,8,3,8
105:0,0,0,0,0,0,0,0,0,0
104:Courier|12||0-0-0|0-0-0|-1--1--1|0-0-255|192-192-192|-1--1--1
